(this["webpackJsonpkonban-board"]=this["webpackJsonpkonban-board"]||[]).push([[0],{13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(7),s=r.n(n),o=r(4),l=r.n(o),i=r(5),d=r(3),u=(r(13),r(0));function j(){return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("h1",{className:"header__title",children:"Kanban Board"}),Object(u.jsx)("p",{className:"header__subtitle",children:"A board to keep track of your task"})]})}var b=r(2),O=r.n(b);function m(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),l=o[0],i=o[1],j=Object(a.useState)(""),b=Object(d.a)(j,2),m=b[0],f=b[1],x=Object(a.useState)(""),h=Object(d.a)(x,2),p=h[0],v=h[1],N=Object(a.useContext)(S),g=N.users,_=N.setCards;return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("button",{className:"board__add-card-btn",onClick:function(){return n(!0)},children:" Add new "}),r&&Object(u.jsx)("div",{className:"modal-window",children:Object(u.jsxs)("form",{className:"card-form",onSubmit:function(e){e.preventDefault();var t={cardTitle:l,cardDesc:m,user:p,date:new Date(Date.now()).toLocaleDateString(),id:O()(),column:0};alert(JSON.stringify(t)),_((function(e){return e.concat(t)})),i(""),f(""),v(""),n(!1)},children:[Object(u.jsxs)("span",{className:"card-form--top-field",children:[Object(u.jsxs)("label",{children:["Title *",Object(u.jsx)("input",{className:"card-form--title",type:"text",placeholder:"Enter Card Title",maxLength:"27",value:l,onChange:function(e){return i(e.target.value)},required:!0})]}),Object(u.jsx)("button",{className:"card-form--close-btn",onClick:function(){return n(!1)}})]}),Object(u.jsxs)("label",{children:["Description *",Object(u.jsx)("textarea",{className:"card-form--desc",rows:"8",cols:"40",placeholder:"Enter Card Description",value:m,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(u.jsxs)("label",{children:["User *",Object(u.jsxs)("select",{name:"userName",id:"usersList",value:p,onChange:function(e){return v(e.target.value)},required:!0,children:[Object(u.jsx)("option",{value:"",children:"Select user"},O()()),g&&g.map((function(e){return Object(u.jsx)("option",{value:e,children:e},O()())}))]})]}),Object(u.jsx)("input",{className:"card-form--save-btn",type:"submit",value:"Save"})]})})]})}function f(e){var t=e.data,r=t.cardDesc,a=t.cardTitle,c=t.date,n=t.id,s=t.user;return Object(u.jsxs)("li",{className:"card",id:n,children:[Object(u.jsx)("span",{className:"card--title",children:a}),Object(u.jsx)("div",{className:"card--desc",children:r}),Object(u.jsx)("span",{className:"card--user",children:s}),Object(u.jsxs)("div",{className:"card--bottom",children:[Object(u.jsx)("span",{className:"card--date",children:c}),Object(u.jsx)("button",{className:"card--delete-btn"}),Object(u.jsx)("button",{className:"card--move-btn"})]})]})}function x(e){var t=e.name,r=t.toLowerCase().replace(" ","-"),c="board__"+r+"--container",n=r+"-title",s=Object(a.useContext)(S).cards;return Object(a.useEffect)((function(){return localStorage.setItem("cards",JSON.stringify(s))}),[s]),Object(u.jsxs)("div",{className:c,children:[Object(u.jsxs)("div",{className:"board__title-bar",children:[Object(u.jsxs)("div",{className:"board__title",id:n,children:[t,Object(u.jsx)("div",{className:"board--card_counter"})]}),Object(u.jsx)("div",{className:"board--delBtn"})]}),Object(u.jsx)("ul",{className:"board__cards",children:s.length?"To do"===t&&s.filter((function(e){return 0===e.column})).map((function(e){return Object(u.jsx)(f,{data:e},O()())}))||"In Progress"===t&&s.filter((function(e){return 1===e.column})).map((function(e){return Object(u.jsx)(f,{data:e},O()())}))||"Done"===t&&s.filter((function(e){return 2===e.column})).map((function(e){return Object(u.jsx)(f,{data:e},O()())})):Object(u.jsx)("p",{children:"no cards"})}),"To do"===t&&Object(u.jsx)(m,{})]})}function h(){return Object(u.jsxs)("main",{className:"board",children:[Object(u.jsx)("span",{className:"board--delBtn-tooltip",children:"Delete all cards"}),Object(u.jsx)(x,{name:"To do"}),Object(u.jsx)(x,{name:"In Progress"}),Object(u.jsx)(x,{name:"Done"})]})}function p(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("a",{className:"footer__link",href:"https://github.com/g5-freemen",children:"Made by Anton Borkovskij, 2021"})})}function v(){return(v=Object(i.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",N());case 4:return e.prev=4,e.t0=e.catch(0),e.next=8,fetch("https://jsonplaceholder.typicode.com/users");case 8:return t=e.sent,e.next=11,t.json();case 11:return r=e.sent,a=r.map((function(e){return e.name})),localStorage.setItem("users",JSON.stringify(a)),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function N(){var e=localStorage.getItem("users");if(e)return JSON.parse(e);throw new Error("No cached users")}var g={getUsers:function(){return v.apply(this,arguments)}},S=c.a.createContext();function _(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("cards"))||[]),t=Object(d.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(null),s=Object(d.a)(n,2),o=s[0],b=s[1],O=Object(a.useCallback)(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getUsers();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){return O()}),[]),Object(u.jsx)(S.Provider,{value:{users:o,cards:r,setCards:c},children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)(h,{}),Object(u.jsx)(p,{})]})})}s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.923f3957.chunk.js.map